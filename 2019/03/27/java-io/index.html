<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sortbylist.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="参考: Java IO 考点及资料整理 深入分析 Java I&#x2F;O 的工作机制  java.io包主要涉及文件访问、网络数据流、内存缓冲访问、线程内部通信（管道）、缓冲、过滤、解析、读写文件（Readers&#x2F;Writers）、读写基本类型数据（long，int etc）、读写对象等输入输出。 字节流InputStream字节输入流 ByteArrayInputStream F">
<meta property="og:type" content="article">
<meta property="og:title" content="Java IO">
<meta property="og:url" content="http://sortbylist.github.io/2019/03/27/java-io/index.html">
<meta property="og:site_name" content="书生小栈">
<meta property="og:description" content="参考: Java IO 考点及资料整理 深入分析 Java I&#x2F;O 的工作机制  java.io包主要涉及文件访问、网络数据流、内存缓冲访问、线程内部通信（管道）、缓冲、过滤、解析、读写文件（Readers&#x2F;Writers）、读写基本类型数据（long，int etc）、读写对象等输入输出。 字节流InputStream字节输入流 ByteArrayInputStream F">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-03-27T02:18:11.000Z">
<meta property="article:modified_time" content="2019-04-08T09:02:30.930Z">
<meta property="article:author" content="Jerry Lee">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="IO">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://sortbylist.github.io/2019/03/27/java-io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Java IO | 书生小栈</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">书生小栈</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sortbylist.github.io/2019/03/27/java-io/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Lee">
      <meta itemprop="description" content="Java coder">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="书生小栈">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java IO
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-03-27 10:18:11" itemprop="dateCreated datePublished" datetime="2019-03-27T10:18:11+08:00">2019-03-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-04-08 17:02:30" itemprop="dateModified" datetime="2019-04-08T17:02:30+08:00">2019-04-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>参考:</p>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000013695159#articleHeader13">Java IO 考点及资料整理</a></p>
<p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/java/j-lo-javaio/index.html">深入分析 Java I&#x2F;O 的工作机制</a></p>
</blockquote>
<p><code>java.io</code>包主要涉及文件访问、网络数据流、内存缓冲访问、线程内部通信（管道）、缓冲、过滤、解析、读写文件（Readers&#x2F;Writers）、读写基本类型数据（long，int etc）、读写对象等输入输出。</p>
<h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><h2 id="InputStream字节输入流"><a href="#InputStream字节输入流" class="headerlink" title="InputStream字节输入流"></a><code>InputStream</code>字节输入流</h2><ul>
<li>ByteArrayInputStream</li>
<li>FileInputStream</li>
<li>FilterInputStream<ul>
<li>BufferedInputStream</li>
<li>DataInputStream</li>
<li><del>LineNumberInputStream</del></li>
<li>PushbackInputStream</li>
</ul>
</li>
<li>ObjectInputStream</li>
<li>PipedInputStream</li>
<li>SequenceInputStream</li>
<li>StringBufferStream</li>
</ul>
<h3 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">InputStream</span> <span class="keyword">implements</span> <span class="title class_">Closeable</span> &#123;</span><br><span class="line">             <span class="type">int</span>     <span class="title function_">available</span><span class="params">()</span>;</span><br><span class="line">             <span class="keyword">void</span>    <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line">             <span class="keyword">void</span>    <span class="title function_">mark</span><span class="params">(<span class="type">int</span> readlimit)</span>;</span><br><span class="line">             <span class="type">boolean</span> <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line">             <span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer)</span>;</span><br><span class="line"><span class="keyword">abstract</span>     <span class="type">int</span>     <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line">             <span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>    <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line">             <span class="type">long</span>    <span class="title function_">skip</span><span class="params">(<span class="type">long</span> byteCount)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ByteArrayInputStream"><a href="#ByteArrayInputStream" class="headerlink" title="ByteArrayInputStream"></a>ByteArrayInputStream</h3><p>ByteArrayInputStream 是字节数组输入流。它继承于InputStream。<br>它包含一个内部缓冲区，该缓冲区包含从流中读取的字节；通俗点说，它的内部缓冲区就是一个字节数组，而ByteArrayInputStream本质就是通过字节数组来实现的。<br>我们都知道，InputStream通过read()向外提供接口，供它们来读取字节数据；而ByteArrayInputStream 的内部额外的定义了一个计数器，它被用来跟踪 read() 方法要读取的下一个字节。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数;</span></span><br><span class="line">ByteArrayInputStream(<span class="type">byte</span>[] buf);</span><br><span class="line">ByteArrayInputStream(<span class="type">byte</span>[] buf, <span class="type">int</span> offset, <span class="type">int</span> length);</span><br><span class="line"></span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>         <span class="title function_">available</span><span class="params">()</span>;</span><br><span class="line">             <span class="keyword">void</span>        <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>        <span class="title function_">mark</span><span class="params">(<span class="type">int</span> readlimit)</span>;</span><br><span class="line">             <span class="type">boolean</span>     <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>         <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>         <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>        <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">long</span>        <span class="title function_">skip</span><span class="params">(<span class="type">long</span> byteCount)</span>;</span><br></pre></td></tr></table></figure>

<p>ByteArrayInputStream实际上是通过“字节数组”去保存数据。</p>
<ul>
<li>通过ByteArrayInputStream(byte buf[]) 或 ByteArrayInputStream(byte buf[], int offset, int length) ，我们可以根据buf数组来创建字节流对象。</li>
<li>read()的作用是从字节流中“读取下一个字节”。</li>
<li>read(byte[] buffer, int offset, int length)的作用是从字节流读取字节数据，并写入到字节数组buffer中。offset是将字节写入到buffer的起始位置，length是写入的字节的长度。</li>
<li>markSupported()是判断字节流是否支持“标记功能”。它一直返回true。</li>
<li>mark(int readlimit)的作用是记录标记位置。记录标记位置之后，某一时刻调用reset()则将“字节流下一个被读取的位置”重置到“mark(int readlimit)所标记的位置”；也就是说，reset()之后再读取字节流时，是从mark(int readlimit)所标记的位置开始读取。</li>
</ul>
<h3 id="PipedInputStream"><a href="#PipedInputStream" class="headerlink" title="PipedInputStream"></a>PipedInputStream</h3><p>在java中，<strong>PipedOutputStream</strong>和<strong>PipedInputStream</strong>分别是管道输出流和管道输入流。<br>它们的作用是让多线程可以通过管道进行线程间的通讯。在使用管道通信时，必须将PipedOutputStream和PipedInputStream配套使用。<br>使用管道通信时，大致的流程是：我们在线程A中向PipedOutputStream中写入数据，这些数据会自动的发送到与PipedOutputStream对应的PipedInputStream中，进而存储在PipedInputStream的缓冲中；此时，线程B通过读取PipedInputStream中的数据。就可以实现，线程A和线程B的通信。</p>
<p>PipedInputStream类中属性有<code>closedByWriter</code>、<code>closedByReader</code>、<code>connected</code>、<code>readSide</code>、<code>writeSide</code>、<code>buffer</code>、<code>in</code>、<code>out</code>，分别代码被写入线程关闭连接，被读取线程关闭连接，是否连接，读取线程，写入线程，内部缓冲byte数组，写入数，读取数。通过协调读取和写入线程，一方面从PipedOutputStream接收数据，一方面当调用<code>read()</code>、<code>read(byte[], int, int)</code>方法是从内部缓存byte数组中读取数据。</p>
<h3 id="ObjectInputStream"><a href="#ObjectInputStream" class="headerlink" title="ObjectInputStream"></a>ObjectInputStream</h3><p>ObjectInputStream 和 ObjectOutputStream 的作用是，<strong>对基本数据和对象进行序列化操作支持。</strong></p>
<p>当我们需要读取ObjectOutputStream存储的“基本数据或对象”时，可以创建“文件输入流”对应的ObjectInputStream，进而读取出这些“基本数据或对象”。</p>
<p>注意： 只有支持 java.io.Serializable 或 java.io.Externalizable 接口的对象才能被ObjectInputStream&#x2F;ObjectOutputStream所操作！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数;</span></span><br><span class="line">ObjectInputStream(InputStream input);</span><br><span class="line"></span><br><span class="line"><span class="comment">//public函数;</span></span><br><span class="line"><span class="type">int</span>     <span class="title function_">available</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">defaultReadObject</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"><span class="type">boolean</span>     <span class="title function_">readBoolean</span><span class="params">()</span>;</span><br><span class="line"><span class="type">byte</span>     <span class="title function_">readByte</span><span class="params">()</span>;</span><br><span class="line"><span class="type">char</span>     <span class="title function_">readChar</span><span class="params">()</span>;</span><br><span class="line"><span class="type">double</span>     <span class="title function_">readDouble</span><span class="params">()</span>;</span><br><span class="line">ObjectInputStream.GetField     <span class="title function_">readFields</span><span class="params">()</span>;</span><br><span class="line"><span class="type">float</span>     <span class="title function_">readFloat</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst, <span class="type">int</span> offset, <span class="type">int</span> byteCount)</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">readInt</span><span class="params">()</span>;</span><br><span class="line">String     <span class="title function_">readLine</span><span class="params">()</span>;</span><br><span class="line"><span class="type">long</span>     <span class="title function_">readLong</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">final</span> Object     <span class="title function_">readObject</span><span class="params">()</span>;</span><br><span class="line"><span class="type">short</span>     <span class="title function_">readShort</span><span class="params">()</span>;</span><br><span class="line">String     <span class="title function_">readUTF</span><span class="params">()</span>;</span><br><span class="line">Object     <span class="title function_">readUnshared</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">readUnsignedByte</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">readUnsignedShort</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>     <span class="title function_">registerValidation</span><span class="params">(ObjectInputValidation object, <span class="type">int</span> priority)</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">skipBytes</span><span class="params">(<span class="type">int</span> length)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h3><p>FileInputStream 是文件输入流，它继承于InputStream。<br>通常，我们使用FileInputStream从某个文件中获得输入字节。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream(File file); <span class="comment">// 构造函数1：创建“File对象”对应的“文件输入流”</span></span><br><span class="line">FileInputStream(FileDescriptor fd); <span class="comment">// 构造函数2：创建“文件描述符”对应的“文件输入流”</span></span><br><span class="line">FileInputStream(String path); <span class="comment">// 构造函数3：创建“文件(路径为path)”对应的“文件输入流”</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">available</span><span class="params">()</span>; <span class="comment">// 返回“剩余的可读取的字节数”或者“skip的字节数”</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>; <span class="comment">// 关闭“文件输入流”</span></span><br><span class="line">FileChannel <span class="title function_">getChannel</span><span class="params">()</span>; <span class="comment">// 返回“FileChannel”</span></span><br><span class="line"><span class="keyword">final</span> FileDescriptor <span class="title function_">getFD</span><span class="params">()</span>; <span class="comment">// 返回“文件描述符”</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">read</span><span class="params">()</span>; <span class="comment">// 返回“文件输入流”的下一个字节</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> byteOffset, <span class="type">int</span> byteCount)</span>; <span class="comment">// 读取“文件输入流”的数据并存在到buffer，从byteOffset开始存储，存储长度是byteCount。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">skip</span><span class="params">(<span class="type">long</span> byteCount)</span>; <span class="comment">// 跳过byteCount个字节</span></span><br></pre></td></tr></table></figure>
<h3 id="FilterInputStream"><a href="#FilterInputStream" class="headerlink" title="FilterInputStream"></a>FilterInputStream</h3><p><strong>FilterInputStream</strong> 的作用是用来“<strong>封装其它的输入流，并为它们提供额外的功能</strong>”。它的常用的子类有BufferedInputStream和DataInputStream。</p>
<p><strong>BufferedInputStream</strong>的作用就是为“输入流提供缓冲功能，以及mark()和reset()功能”。</p>
<p><strong>DataInputStream</strong> 是用来装饰其它输入流，它“允许应用程序以与机器无关方式从底层输入流中读取基本 Java 数据类型”。应用程序可以使用DataOutputStream(数据输出流)写入由DataInputStream(数据输入流)读取的数据。</p>
<p><strong>FilterInputStream</strong>很明显使用了<strong>装饰器模式 ( Decorator )</strong>。</p>
<h3 id="BufferedInputStream"><a href="#BufferedInputStream" class="headerlink" title="BufferedInputStream"></a>BufferedInputStream</h3><p>BufferedInputStream 是缓冲输入流。它继承于<strong>FilterInputStream</strong>。</p>
<p>BufferedInputStream 的作用是为另一个输入流添加一些功能，例如，提供“缓冲功能”以及支持“mark()标记”和“reset()重置方法”。</p>
<p>BufferedInputStream 本质上是通过一个内部缓冲区数组实现的。例如，在新建某输入流对应的BufferedInputStream后，当我们通过read()读取输入流的数据时，BufferedInputStream会将该输入流的数据分批的填入到缓冲区中。每当缓冲区中的数据被读完之后，输入流会再次填充数据缓冲区；如此反复，直到我们读完输入流数据位置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">BufferedInputStream(InputStream in);</span><br><span class="line">BufferedInputStream(InputStream in, <span class="type">int</span> size);</span><br><span class="line"></span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>     <span class="title function_">available</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>     <span class="title function_">mark</span><span class="params">(<span class="type">int</span> readlimit)</span>;</span><br><span class="line"><span class="type">boolean</span>     <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>     <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> byteCount)</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>     <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">long</span>     <span class="title function_">skip</span><span class="params">(<span class="type">long</span> byteCount)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="DataInputStream"><a href="#DataInputStream" class="headerlink" title="DataInputStream"></a>DataInputStream</h3><p>DataInputStream 是数据输入流。它继承于FilterInputStream。</p>
<p>DataInputStream 是**用来装饰其它输入流，它“允许应用程序以与机器无关方式从底层输入流中读取基本 Java 数据类型”。**应用程序可以使用DataOutputStream(数据输出流)写入由DataInputStream(数据输入流)读取的数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">DataInputStream(InputStream in); </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer)</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">boolean</span> <span class="title function_">readBoolean</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">byte</span> <span class="title function_">readByte</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">char</span> <span class="title function_">readChar</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">double</span> <span class="title function_">readDouble</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">float</span> <span class="title function_">readFloat</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst)</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst, <span class="type">int</span> offset, <span class="type">int</span> byteCount)</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">readInt</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> String <span class="title function_">readLine</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">long</span> <span class="title function_">readLong</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">short</span> <span class="title function_">readShort</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="keyword">static</span> String <span class="title function_">readUTF</span><span class="params">(DataInput in)</span>; </span><br><span class="line"><span class="keyword">final</span> String <span class="title function_">readUTF</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">readUnsignedByte</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">readUnsignedShort</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="title function_">skipBytes</span><span class="params">(<span class="type">int</span> count)</span>; </span><br></pre></td></tr></table></figure>


<h2 id="OutputStream字节输出流"><a href="#OutputStream字节输出流" class="headerlink" title="OutputStream字节输出流"></a><code>OutputStream</code>字节输出流</h2><ul>
<li>ByteArrayOutputStream</li>
<li>FileOutputStream</li>
<li>FilterOutputStream<ul>
<li>BufferedOutputStream</li>
<li>DataOutputStream</li>
<li>PrintStream</li>
</ul>
</li>
<li>ObjectOutputStream</li>
<li>PipedOutputStream</li>
</ul>
<h3 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">OutputStream</span> <span class="keyword">implements</span> <span class="title class_">Closeable</span>, Flushable &#123;</span><br><span class="line">         <span class="keyword">void</span>    <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line">         <span class="keyword">void</span>    <span class="title function_">flush</span><span class="params">()</span>;</span><br><span class="line">         <span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> count)</span>;</span><br><span class="line">         <span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer)</span>;</span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ByteArrayOutputStream"><a href="#ByteArrayOutputStream" class="headerlink" title="ByteArrayOutputStream"></a>ByteArrayOutputStream</h3><p>ByteArrayOutputStream 是字节数组输出流。它继承于OutputStream。<br>ByteArrayOutputStream 中的数据被写入一个 byte 数组。缓冲区会随着数据的不断写入而自动增长，“新容量”的初始化 &#x3D; “旧容量”x2。可使用 toByteArray() 和 toString() 获取数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数;</span></span><br><span class="line">ByteArrayOutputStream();</span><br><span class="line">ByteArrayOutputStream(<span class="type">int</span> size);</span><br><span class="line"></span><br><span class="line">             <span class="keyword">void</span>    <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>    <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line">             <span class="type">int</span>     <span class="title function_">size</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="type">byte</span>[]  toByteArray();</span><br><span class="line">             String  <span class="title function_">toString</span><span class="params">(<span class="type">int</span> hibyte)</span>;</span><br><span class="line">             String  <span class="title function_">toString</span><span class="params">(String charsetName)</span>;</span><br><span class="line">             String  <span class="title function_">toString</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>;</span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span>    <span class="title function_">writeTo</span><span class="params">(OutputStream out)</span>;</span><br></pre></td></tr></table></figure>

<p>ByteArrayOutputStream实际上是将字节数据写入到“字节数组”中去。</p>
<ul>
<li>通过ByteArrayOutputStream()创建的“字节数组输出流”对应的字节数组大小是32。</li>
<li>通过ByteArrayOutputStream(int size) 创建“字节数组输出流”，它对应的字节数组大小是size。</li>
<li>write(int oneByte)的作用将int类型的oneByte换成byte类型，然后写入到输出流中。</li>
<li>write(byte[] buffer, int offset, int len) 是将字节数组buffer写入到输出流中，offset是从buffer中读取数据的起始偏移位置，len是读取的长度。</li>
<li>writeTo(OutputStream out) 将该“字节数组输出流”的数据全部写入到“输出流out”中。</li>
</ul>
<h3 id="PipedOutputStream"><a href="#PipedOutputStream" class="headerlink" title="PipedOutputStream"></a>PipedOutputStream</h3><p>在java中，<strong>PipedOutputStream</strong>和<strong>PipedInputStream</strong>分别是管道输出流和管道输入流。<br>它们的作用是让多线程可以通过管道进行线程间的通讯。在使用管道通信时，必须将PipedOutputStream和PipedInputStream配套使用。<br>使用管道通信时，大致的流程是：我们在线程A中向PipedOutputStream中写入数据，这些数据会自动的发送到与PipedOutputStream对应的PipedInputStream中，进而存储在PipedInputStream的缓冲中；此时，线程B通过读取PipedInputStream中的数据。就可以实现，线程A和线程B的通信。</p>
<p>PipedOutputStream类中持有PipedInputStream实例，调用write&#x2F;flush等方法时均对PipedInputStream实例进行操作。</p>
<h3 id="ObjectOutputStream"><a href="#ObjectOutputStream" class="headerlink" title="ObjectOutputStream"></a>ObjectOutputStream</h3><p>ObjectInputStream 和 ObjectOutputStream 的作用是，<strong>对基本数据和对象进行序列化操作支持。</strong></p>
<p>创建“文件输出流”对应的ObjectOutputStream对象，该ObjectOutputStream对象能提供对“基本数据或对象”的持久存储。</p>
<p>注意： 只有支持 java.io.Serializable 或 java.io.Externalizable 接口的对象才能被ObjectInputStream&#x2F;ObjectOutputStream所操作！</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数;</span></span><br><span class="line">ObjectOutputStream(OutputStream output);</span><br><span class="line"></span><br><span class="line"><span class="comment">// public函数;</span></span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">defaultWriteObject</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">flush</span><span class="params">()</span>;</span><br><span class="line">ObjectOutputStream.PutField     <span class="title function_">putFields</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">useProtocolVersion</span><span class="params">(<span class="type">int</span> version)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeBoolean</span><span class="params">(<span class="type">boolean</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeByte</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeBytes</span><span class="params">(String value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeChar</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeChars</span><span class="params">(String value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeDouble</span><span class="params">(<span class="type">double</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeFields</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeFloat</span><span class="params">(<span class="type">float</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeInt</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeLong</span><span class="params">(<span class="type">long</span> value)</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeObject</span><span class="params">(Object object)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeShort</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeUTF</span><span class="params">(String value)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeUnshared</span><span class="params">(Object object)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h3><p>FileOutputStream 是文件输出流，它继承于OutputStream。</p>
<p>通常，我们使用FileOutputStream 将数据写入 File 或 FileDescriptor 的输出流。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">FileOutputStream(File file); <span class="comment">// 构造函数1：创建“File对象”对应的“文件输入流”；默认“追加模式”是false，即“写到输出的流内容”不是以追加的方式添加到文件中。</span></span><br><span class="line">FileOutputStream(File file, <span class="type">boolean</span> append); <span class="comment">// 构造函数2：创建“File对象”对应的“文件输入流”；指定“追加模式”。</span></span><br><span class="line">FileOutputStream(FileDescriptor fd); <span class="comment">// 构造函数3：创建“文件描述符”对应的“文件输入流”；默认“追加模式”是false，即“写到输出的流内容”不是以追加的方式添加到文件中。</span></span><br><span class="line">FileOutputStream(String path); <span class="comment">// 构造函数4：创建“文件(路径为path)”对应的“文件输入流”；默认“追加模式”是false，即“写到输出的流内容”不是以追加的方式添加到文件中。</span></span><br><span class="line">FileOutputStream(String path, <span class="type">boolean</span> append); <span class="comment">// 构造函数5：创建“文件(路径为path)”对应的“文件输入流”；指定“追加模式”。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>; <span class="comment">// 关闭“输出流”</span></span><br><span class="line">FileChannel <span class="title function_">getChannel</span><span class="params">()</span>; <span class="comment">// 返回“FileChannel”</span></span><br><span class="line"><span class="keyword">final</span> FileDescriptor <span class="title function_">getFD</span><span class="params">()</span>; <span class="comment">// 返回“文件描述符”</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> byteOffset, <span class="type">int</span> byteCount)</span>; <span class="comment">// 将buffer写入到“文件输出流”中，从buffer的byteOffset开始写，写入长度是byteCount。</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>; <span class="comment">// 写入字节oneByte到“文件输出流”中</span></span><br></pre></td></tr></table></figure>

<h3 id="FilterOutputStream"><a href="#FilterOutputStream" class="headerlink" title="FilterOutputStream"></a>FilterOutputStream</h3><p>FilterOutputStream 的作用是用来“封装其它的输出流，并为它们提供额外的功能”。它主要包括BufferedOutputStream, DataOutputStream和PrintStream。</p>
<p>BufferedOutputStream的作用就是为“输出流提供缓冲功能”。</p>
<p>DataOutputStream 是用来装饰其它输出流，将DataOutputStream和DataInputStream输入流配合使用，“允许应用程序以与机器无关方式从底层输入流中读写基本 Java 数据类型”。</p>
<p>PrintStream 是用来装饰其它输出流。它能为其他输出流添加了功能，使它们能够方便地打印各种数据值表示形式。</p>
<p><strong>FilteroutputStream</strong>很明显使用了<strong>装饰器模式 ( Decorator )</strong>。</p>
<h3 id="BufferedOutputStream"><a href="#BufferedOutputStream" class="headerlink" title="BufferedOutputStream"></a>BufferedOutputStream</h3><p>BufferedOutputStream 是缓冲输出流。它继承于FilterOutputStream。</p>
<p>BufferedOutputStream 的作用是为另一个输出流提供“缓冲功能”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BufferedOutputStream(OutputStream out); </span><br><span class="line">BufferedOutputStream(OutputStream out, <span class="type">int</span> size); </span><br><span class="line"></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span>; </span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>; </span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>; </span><br></pre></td></tr></table></figure>

<p>BufferedOutputStream的源码非常简单，这里就BufferedOutputStream的思想进行简单说明：BufferedOutputStream通过字节数组来缓冲数据，当缓冲区满或者用户调用flush()函数时，它就会将缓冲区的数据写入到输出流中。</p>
<h3 id="DataOutputStream"><a href="#DataOutputStream" class="headerlink" title="DataOutputStream"></a>DataOutputStream</h3><p><strong>DataOutputStream</strong> 是数据输出流。它继承于FilterOutputStream。</p>
<p><strong>DataOutputStream</strong> 是用来装饰其它输出流，将DataOutputStream和<strong>DataInputStream</strong>输入流配合使用，“允许应用程序以与机器无关方式从底层输入流中读写基本 Java 数据类型”。</p>
<h3 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h3><p>PrintStream 是打印输出流，它继承于FilterOutputStream。</p>
<p>PrintStream 是用来装饰其它输出流。它能为其他输出流添加了功能，使它们能够方便地打印各种数据值表示形式。</p>
<p>与其他输出流不同，PrintStream 永远不会抛出 IOException；它产生的IOException会被自身的函数所捕获并设置错误标记， 用户可以通过 checkError() 返回错误标记，从而查看PrintStream内部是否产生了IOException。</p>
<p>另外，<strong>PrintStream 提供了自动flush 和 字符集设置功能</strong>。所谓自动flush，就是往PrintStream写入的数据会立刻调用flush()函数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">* 构造函数</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 将“输出流out”作为PrintStream的输出流，不会自动flush，并且采用默认字符集</span></span><br><span class="line"><span class="comment">// 所谓“自动flush”，就是每次执行print(); , println(); , write(); 函数，都会调用flush(); 函数；</span></span><br><span class="line"><span class="comment">// 而“不自动flush”，则需要我们手动调用flush(); 接口。</span></span><br><span class="line">PrintStream(OutputStream out); </span><br><span class="line"><span class="comment">// 将“输出流out”作为PrintStream的输出流，自动flush，并且采用默认字符集。</span></span><br><span class="line">PrintStream(OutputStream out, <span class="type">boolean</span> autoFlush); </span><br><span class="line"><span class="comment">// 将“输出流out”作为PrintStream的输出流，自动flush，采用charsetName字符集。</span></span><br><span class="line">PrintStream(OutputStream out, <span class="type">boolean</span> autoFlush, String charsetName); </span><br><span class="line"><span class="comment">// 创建file对应的FileOutputStream，然后将该FileOutputStream作为PrintStream的输出流，不自动flush，采用默认字符集。</span></span><br><span class="line">PrintStream(File file); </span><br><span class="line"><span class="comment">// 创建file对应的FileOutputStream，然后将该FileOutputStream作为PrintStream的输出流，不自动flush，采用charsetName字符集。</span></span><br><span class="line">PrintStream(File file, String charsetName); </span><br><span class="line"><span class="comment">// 创建fileName对应的FileOutputStream，然后将该FileOutputStream作为PrintStream的输出流，不自动flush，采用默认字符集。</span></span><br><span class="line">PrintStream(String fileName); </span><br><span class="line"><span class="comment">// 创建fileName对应的FileOutputStream，然后将该FileOutputStream作为PrintStream的输出流，不自动flush，采用charsetName字符集。</span></span><br><span class="line">PrintStream(String fileName, String charsetName); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 将“字符c”追加到“PrintStream输出流中”</span></span><br><span class="line">PrintStream <span class="title function_">append</span><span class="params">(<span class="type">char</span> c)</span>; </span><br><span class="line"><span class="comment">// 将“字符序列从start(包括); 到end(不包括); 的全部字符”追加到“PrintStream输出流中”</span></span><br><span class="line">PrintStream <span class="title function_">append</span><span class="params">(CharSequence charSequence, <span class="type">int</span> start, <span class="type">int</span> end)</span>; </span><br><span class="line"><span class="comment">// 将“字符序列的全部字符”追加到“PrintStream输出流中”</span></span><br><span class="line">PrintStream <span class="title function_">append</span><span class="params">(CharSequence charSequence)</span>; </span><br><span class="line"><span class="comment">// flush“PrintStream输出流缓冲中的数据”，并检查错误</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">checkError</span><span class="params">()</span>; </span><br><span class="line"><span class="comment">// 关闭“PrintStream输出流”</span></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>; </span><br><span class="line"><span class="comment">// flush“PrintStream输出流缓冲中的数据”。</span></span><br><span class="line"><span class="comment">// 例如，PrintStream装饰的是FileOutputStream，则调用flush时会将数据写入到文件中</span></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span>; </span><br><span class="line"><span class="comment">// 根据“Locale值(区域属性); ”来格式化数据</span></span><br><span class="line">PrintStream <span class="title function_">format</span><span class="params">(Locale l, String format, Object... args)</span>; </span><br><span class="line"><span class="comment">// 根据“默认的Locale值(区域属性); ”来格式化数据</span></span><br><span class="line">PrintStream <span class="title function_">format</span><span class="params">(String format, Object... args)</span>; </span><br><span class="line"><span class="comment">// 将“float数据f对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">float</span> f)</span>; </span><br><span class="line"><span class="comment">// 将“double数据d对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">double</span> d)</span>; </span><br><span class="line"><span class="comment">// 将“字符串数据str”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(String str)</span>; </span><br><span class="line"><span class="comment">// 将“对象o对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(Object o)</span>; </span><br><span class="line"><span class="comment">// 将“字符c对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">char</span> c)</span>; </span><br><span class="line"><span class="comment">// 将“字符数组chars对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">char</span>[] chars)</span>; </span><br><span class="line"><span class="comment">// 将“long型数据l对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">long</span> l)</span>; </span><br><span class="line"><span class="comment">// 将“int数据i对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">int</span> i)</span>; </span><br><span class="line"><span class="comment">// 将“boolean数据b对应的字符串”写入到“PrintStream输出流”中，print实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span><span class="params">(<span class="type">boolean</span> b)</span>; </span><br><span class="line"><span class="comment">// 将“数据args”根据“Locale值(区域属性); ”按照format格式化，并写入到“PrintStream输出流”中</span></span><br><span class="line">PrintStream <span class="title function_">printf</span><span class="params">(Locale l, String format, Object... args)</span>; </span><br><span class="line"><span class="comment">// 将“数据args”根据“默认Locale值(区域属性); ”按照format格式化，并写入到“PrintStream输出流”中</span></span><br><span class="line">PrintStream <span class="title function_">printf</span><span class="params">(String format, Object... args)</span>; </span><br><span class="line"><span class="comment">// 将“换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">()</span>; </span><br><span class="line"><span class="comment">// 将“float数据对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">float</span> f)</span>; </span><br><span class="line"><span class="comment">// 将“int数据对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">int</span> i)</span>; </span><br><span class="line"><span class="comment">// 将“long数据对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">long</span> l)</span>; </span><br><span class="line"><span class="comment">// 将“对象o对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(Object o)</span>; </span><br><span class="line"><span class="comment">// 将“字符数组chars对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">char</span>[] chars)</span>; </span><br><span class="line"><span class="comment">// 将“字符串str+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">println</span><span class="params">(String str)</span>; </span><br><span class="line"><span class="comment">// 将“字符c对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">char</span> c)</span>; </span><br><span class="line"><span class="comment">// 将“double数据对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">double</span> d)</span>; </span><br><span class="line"><span class="comment">// 将“boolean数据对应的字符串+换行符”写入到“PrintStream输出流”中，println实际调用的是write函数</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">boolean</span> b)</span>; </span><br><span class="line"><span class="comment">// 将数据oneByte写入到“PrintStream输出流”中。oneByte虽然是int类型，但实际只会写入一个字节</span></span><br><span class="line"><span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>; </span><br><span class="line"><span class="comment">// 将“buffer中从offset开始的length个字节”写入到“PrintStream输出流”中。</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>; </span><br></pre></td></tr></table></figure>

<h3 id="System-out-Println"><a href="#System-out-Println" class="headerlink" title="System.out.Println"></a>System.out.Println</h3><ul>
<li><p>out的定义</p>
<p>一个PrintStream实例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">System</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">PrintStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>out的初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pubilc <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">System</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">initializeSystemClass</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//省略其他代码...</span></span><br><span class="line">  <span class="type">FileOutputStream</span> <span class="variable">fdOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(FileDescriptor.out);</span><br><span class="line">  setOut0(<span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fdOut, <span class="number">128</span>), <span class="literal">true</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>FileDescriptor.out是啥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">FileDescriptor</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> fd;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A handle to the standard output stream. Usually, this file</span></span><br><span class="line"><span class="comment">* descriptor is not used directly, but rather via the output stream</span></span><br><span class="line"><span class="comment">* known as &#123;<span class="doctag">@code</span> System.out&#125;.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> java.lang.System#out</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">FileDescriptor</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileDescriptor</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">FileDescriptor</span><span class="params">(<span class="type">int</span> fd)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.fd = fd;</span><br><span class="line">    useCount = <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>FileDescriptor.out是一个FileDescriptor实例，其fd&#x3D;1，正是标准输出的标识符。</p>
</li>
<li><p>setOut0方法</p>
<p>setOut0()是一个native本地方法，其功能是设置out为传入的参数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">System</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">setOut0</span><span class="params">(PrintStream out)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>System.out.println</p>
<p>所以System.out其实是标准输出的PrintStream实例，而println方法正是调用的PrintStream的println方法。这样PrintStream中的多个输出方法均可以通过System.out调用。</p>
</li>
</ul>
<h1 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h1><h2 id="Reader字符输入流"><a href="#Reader字符输入流" class="headerlink" title="Reader字符输入流"></a><code>Reader</code>字符输入流</h2><ul>
<li>BufferedReader<ul>
<li>LineNumberReader</li>
</ul>
</li>
<li>CharArrayReader</li>
<li>FilterReader</li>
<li>PushbackReader</li>
<li>InputStreamReader<ul>
<li>FileReader</li>
</ul>
</li>
<li>PipedReader</li>
<li>StringReader</li>
</ul>
<h3 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Reader</span> <span class="keyword">implements</span> <span class="title class_">Readable</span>, Closeable &#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="title function_">Reader</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">Reader</span><span class="params">(Object lock)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(Charbuffer target)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span> cbuf[])</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">long</span> <span class="title function_">skip</span><span class="params">(<span class="type">long</span> n)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mark</span><span class="params">(<span class="type">int</span> readAheadLimit)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reset</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CharArrayReader"><a href="#CharArrayReader" class="headerlink" title="CharArrayReader"></a>CharArrayReader</h3><p>CharArrayReader 是字符数组输入流。它和<strong>ByteArrayInputStream</strong>类似，只不过ByteArrayInputStream是字节数组输入流，而CharArray是字符数组输入流。CharArrayReader 是用于读取字符数组，它继承于Reader。操作的数据是以字符为单位！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CharArrayReader(<span class="type">char</span>[] buf);</span><br><span class="line">CharArrayReader(<span class="type">char</span>[] buf, <span class="type">int</span> offset, <span class="type">int</span> length);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span>      <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>      <span class="title function_">mark</span><span class="params">(<span class="type">int</span> readLimit)</span>;</span><br><span class="line"><span class="type">boolean</span>   <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>       <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>       <span class="title function_">read</span><span class="params">(<span class="type">char</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="type">boolean</span>   <span class="title function_">ready</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>      <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="type">long</span>      <span class="title function_">skip</span><span class="params">(<span class="type">long</span> charCount)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="PipedReader"><a href="#PipedReader" class="headerlink" title="PipedReader"></a>PipedReader</h3><p>PipedReader 是字符管道输入流，它继承于Writer。</p>
<p>PipedWriter和PipedReader的作用是可以通过管道进行线程间的通讯。在使用管道通信时，必须将PipedWriter和PipedReader配套使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">PipedReader</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PipedReader</span><span class="params">(<span class="type">int</span> pipeSize)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PipedReader</span><span class="params">(PipedWriter src)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PipedReader</span><span class="params">(PipedWriter src, <span class="type">int</span> pipeSize)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>  <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">connect</span><span class="params">(PipedWriter src)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">()</span>  <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> off, <span class="type">int</span> len)</span>  <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">boolean</span> <span class="title function_">ready</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<h3 id="InpustreamReader"><a href="#InpustreamReader" class="headerlink" title="InpustreamReader"></a>InpustreamReader</h3><p>InputStreamReader和OutputStreamWriter 是字节流通向字符流的桥梁：它使用指定的 charset 读写字节并将其解码为字符。</p>
<p>InputStreamReader 的作用是将“字节输入流”转换成“字符输入流”。它继承于Reader。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in, Charset cs)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in, CharsetDecoder dec)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in, String charsetName)</span> <span class="keyword">throws</span> UnsupportedEncodingException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getEncoding</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> offset, <span class="type">int</span> length)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">ready</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<p>InputStreamReader内部持有一个<code>StreamDecoder sd</code>的私有属性，大部分的功能由<code>StreamDecoder</code>实现。</p>
<h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><p>FileReader 是用于读取字符流的类，它继承于InputStreamReader。要读取原始字节流，请考虑使用 FileInputStream。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileReader</span> <span class="keyword">extends</span> <span class="title class_">InputStreamReader</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileReader</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(fileName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileReader</span><span class="params">(File file)</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileReader</span><span class="params">(FileDescriptor fd)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(fd));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h3><p>BufferedReader 是缓冲字符输入流。它继承于Reader。</p>
<p>BufferedReader 的作用是为其他字符输入流添加一些缓冲功能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">BufferedReader(Reader in);</span><br><span class="line">BufferedReader(Reader in, <span class="type">int</span> size);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">mark</span><span class="params">(<span class="type">int</span> markLimit)</span>;</span><br><span class="line"><span class="type">boolean</span>  <span class="title function_">markSupported</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>      <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>      <span class="title function_">read</span><span class="params">(<span class="type">char</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> length)</span>;</span><br><span class="line">String   <span class="title function_">readLine</span><span class="params">()</span>;</span><br><span class="line"><span class="type">boolean</span>  <span class="title function_">ready</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="type">long</span>     <span class="title function_">skip</span><span class="params">(<span class="type">long</span> charCount)</span>;</span><br></pre></td></tr></table></figure>

<h2 id="Writer字符输出流"><a href="#Writer字符输出流" class="headerlink" title="Writer字符输出流"></a><code>Writer</code>字符输出流</h2><ul>
<li>BufferedWriter</li>
<li>CharArrayWriter</li>
<li>FilterWriter</li>
<li>OutputStreamWriter<ul>
<li>FileWriter</li>
</ul>
</li>
<li>PipedWriter</li>
<li>PrintWriter</li>
<li>StringWriter</li>
</ul>
<h3 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Writer</span> <span class="keyword">implements</span> <span class="title class_">Appendable</span>, Closeable, Flushable &#123;</span><br><span class="line">	<span class="keyword">protected</span> <span class="title function_">Writer</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">Writer</span><span class="params">(Object lock)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span> cbuf[])</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> Writer <span class="title function_">append</span><span class="params">(Chrequence csq)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> Writer <span class="title function_">apend</span><span class="params">(CharSequence csq, <span class="type">int</span> start, <span class="type">int</span> end)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> Write <span class="title function_">append</span><span class="params">(<span class="type">char</span> c)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CharArrayWriter"><a href="#CharArrayWriter" class="headerlink" title="CharArrayWriter"></a>CharArrayWriter</h3><p>CharArrayReader 用于写入数据符，它继承于Writer。操作的数据是以字符为单位！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">CharArrayWriter();</span><br><span class="line">CharArrayWriter(<span class="type">int</span> initialSize);</span><br><span class="line"></span><br><span class="line">CharArrayWriter     <span class="title function_">append</span><span class="params">(CharSequence csq, <span class="type">int</span> start, <span class="type">int</span> end)</span>;</span><br><span class="line">CharArrayWriter     <span class="title function_">append</span><span class="params">(<span class="type">char</span> c)</span>;</span><br><span class="line">CharArrayWriter     <span class="title function_">append</span><span class="params">(CharSequence csq)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">flush</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">reset</span><span class="params">()</span>;</span><br><span class="line"><span class="type">int</span>     <span class="title function_">size</span><span class="params">()</span>;</span><br><span class="line"><span class="type">char</span>[]     toCharArray();</span><br><span class="line">String     <span class="title function_">toString</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] buffer, <span class="type">int</span> offset, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneChar)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> offset, <span class="type">int</span> count)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">writeTo</span><span class="params">(Writer out)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="PipedWrite"><a href="#PipedWrite" class="headerlink" title="PipedWrite"></a>PipedWrite</h3><p>PipedWriter 是字符管道输出流，它继承于Writer。</p>
<p>PipedWriter和PipedReader的作用是可以通过管道进行线程间的通讯。在使用管道通信时，必须将PipedWriter和PipedReader配套使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">PipedWriter</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">PipedWriter</span><span class="params">(PipedReader snk)</span>  <span class="keyword">throws</span> IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>  <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">connect</span><span class="params">(PipedReader snk)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span>  <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<h3 id="OutputStreamWriter"><a href="#OutputStreamWriter" class="headerlink" title="OutputStreamWriter"></a>OutputStreamWriter</h3><p>InputStreamReader和OutputStreamWriter 是字节流通向字符流的桥梁：它使用指定的 charset 读写字节并将其解码为字符。</p>
<p>OutputStreamWriter 的作用是将“字节输出流”转换成“字符输出流”。它继承于Writer。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream out)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream out, Charset cs)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream out, CharsetEecoder enc)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream out, String charsetName)</span> <span class="keyword">throws</span> UnsupportedEncodingException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getEncoding</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span> cbuf[], <span class="type">int</span> offset, <span class="type">int</span> length)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br></pre></td></tr></table></figure>

<p>OutputStreamWriter内部持有一个<code>StreamEecoder se</code>的私有属性，大部分的功能由<code>StreamDecoder</code>实现。</p>
<h3 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h3><p>FileWriter 是用于写入字符流的类，它继承于OutputStreamWriter。要写入原始字节流，请考虑使用 FileOutputStream。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileWriter</span> <span class="keyword">extends</span> <span class="title class_">OutputStreamWriter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(fileName));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(String fileName, <span class="type">boolean</span> append)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(fileName, append));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(File file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(File file, <span class="type">boolean</span> append)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file, append));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(FileDescriptor fd)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(fd));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h3><p>BufferedWriter 是缓冲字符输出流。它继承于Writer。<br>BufferedWriter 的作用是为其他字符输出流添加一些缓冲功能。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line">BufferedWriter(Writer out); </span><br><span class="line">BufferedWriter(Writer out, <span class="type">int</span> sz); </span><br><span class="line"> </span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">close</span><span class="params">()</span>;                              <span class="comment">// 关闭此流，但要先刷新它。</span></span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">flush</span><span class="params">()</span>;                              <span class="comment">// 刷新该流的缓冲。</span></span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">newLine</span><span class="params">()</span>;                            <span class="comment">// 写入一个行分隔符。</span></span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] cbuf, <span class="type">int</span> off, <span class="type">int</span> len)</span>; <span class="comment">// 写入字符数组的某一部分。</span></span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span>;                         <span class="comment">// 写入单个字符。</span></span><br><span class="line"><span class="keyword">void</span>    <span class="title function_">write</span><span class="params">(String s, <span class="type">int</span> off, <span class="type">int</span> len)</span>;    <span class="comment">// 写入字符串的某一部分。</span></span><br></pre></td></tr></table></figure>

<h3 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h3><p>PrintWriter 是字符类型的打印输出流，它继承于Writer。</p>
<p>PrintStream 用于向文本输出流打印对象的格式化表示形式。它实现在 <strong>PrintStream</strong> 中的所有 print 方法。它不包含用于写入原始字节的方法，对于这些字节，程序应该使用未编码的字节流进行写入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter(OutputStream out);</span><br><span class="line">PrintWriter(OutputStream out, <span class="type">boolean</span> autoFlush);</span><br><span class="line">PrintWriter(Writer wr);</span><br><span class="line">PrintWriter(Writer wr, <span class="type">boolean</span> autoFlush);</span><br><span class="line">PrintWriter(File file);</span><br><span class="line">PrintWriter(File file, String csn);</span><br><span class="line">PrintWriter(String fileName);</span><br><span class="line">PrintWriter(String fileName, String csn);</span><br><span class="line"></span><br><span class="line">PrintWriter     <span class="title function_">append</span><span class="params">(<span class="type">char</span> c)</span>;</span><br><span class="line">PrintWriter     <span class="title function_">append</span><span class="params">(CharSequence csq, <span class="type">int</span> start, <span class="type">int</span> end)</span>;</span><br><span class="line">PrintWriter     <span class="title function_">append</span><span class="params">(CharSequence csq)</span>;</span><br><span class="line"><span class="type">boolean</span>     <span class="title function_">checkError</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">flush</span><span class="params">()</span>;</span><br><span class="line">PrintWriter     <span class="title function_">format</span><span class="params">(Locale l, String format, Object... args)</span>;</span><br><span class="line">PrintWriter     <span class="title function_">format</span><span class="params">(String format, Object... args)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">float</span> fnum)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">double</span> dnum)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(String str)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(Object obj)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">char</span> ch)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">char</span>[] charArray)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">long</span> lnum)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">int</span> inum)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">print</span><span class="params">(<span class="type">boolean</span> bool)</span>;</span><br><span class="line">PrintWriter     <span class="title function_">printf</span><span class="params">(Locale l, String format, Object... args)</span>;</span><br><span class="line">PrintWriter     <span class="title function_">printf</span><span class="params">(String format, Object... args)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">()</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">float</span> f)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">int</span> i)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">long</span> l)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(Object obj)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">char</span>[] chars)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(String str)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">char</span> c)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">double</span> d)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">println</span><span class="params">(<span class="type">boolean</span> b)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] buf, <span class="type">int</span> offset, <span class="type">int</span> count)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneChar)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] buf)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> offset, <span class="type">int</span> count)</span>;</span><br><span class="line"><span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(String str)</span>;</span><br></pre></td></tr></table></figure>

<h1 id="File"><a href="#File" class="headerlink" title="File"></a>File</h1><h2 id="File-1"><a href="#File-1" class="headerlink" title="File"></a>File</h2><p>File 是“<strong>文件</strong>”和“<strong>目录路径名</strong>”的抽象表示形式。</p>
<p>File 直接继承于Object，实现了Serializable接口和Comparable接口。实现Serializable接口，意味着File对象支持序列化操作。而实现Comparable接口，意味着File对象之间可以比较大小；File能直接被存储在有序集合(如TreeSet、TreeMap中)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态成员</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String pathSeparator; <span class="comment">// 路径分割符&quot;:&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span> pathSeparatorChar; <span class="comment">// 路径分割符&#x27;:&#x27;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String separator; <span class="comment">// 分隔符&quot;/&quot;</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">char</span> separatorChar; <span class="comment">// 分隔符&#x27;/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line">File(File dir, String name);</span><br><span class="line">File(String path);</span><br><span class="line">File(String dirPath, String name);</span><br><span class="line">File(URI uri);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 成员函数</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">canExecute</span><span class="params">()</span>; <span class="comment">// 测试应用程序是否可以执行此抽象路径名表示的文件。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">canRead</span><span class="params">()</span>; <span class="comment">// 测试应用程序是否可以读取此抽象路径名表示的文件。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">canWrite</span><span class="params">()</span>; <span class="comment">// 测试应用程序是否可以修改此抽象路径名表示的文件。</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(File pathname)</span>; <span class="comment">// 按字母顺序比较两个抽象路径名。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">createNewFile</span><span class="params">()</span>; <span class="comment">// 当且仅当不存在具有此抽象路径名指定名称的文件时，不可分地创建一个新的空文件。</span></span><br><span class="line"><span class="keyword">static</span> File <span class="title function_">createTempFile</span><span class="params">(String prefix, String suffix)</span>; <span class="comment">// 在默认临时文件目录中创建一个空文件，使用给定前缀和后缀生成其名称。</span></span><br><span class="line"><span class="keyword">static</span> File <span class="title function_">createTempFile</span><span class="params">(String prefix, String suffix, File directory)</span>; <span class="comment">// 在指定目录中创建一个新的空文件，使用给定的前缀和后缀字符串生成其名称。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">delete</span><span class="params">()</span>; <span class="comment">// 删除此抽象路径名表示的文件或目录。</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteOnExit</span><span class="params">()</span>; <span class="comment">// 在虚拟机终止时，请求删除此抽象路径名表示的文件或目录。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span>; <span class="comment">// 测试此抽象路径名与给定对象是否相等。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">exists</span><span class="params">()</span>; <span class="comment">// 测试此抽象路径名表示的文件或目录是否存在。</span></span><br><span class="line">File <span class="title function_">getAbsoluteFile</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名的绝对路径名形式。</span></span><br><span class="line">String <span class="title function_">getAbsolutePath</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名的绝对路径名字符串。</span></span><br><span class="line">File <span class="title function_">getCanonicalFile</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名的规范形式。</span></span><br><span class="line">String <span class="title function_">getCanonicalPath</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名的规范路径名字符串。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">getFreeSpace</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名指定的分区中未分配的字节数。</span></span><br><span class="line">String <span class="title function_">getName</span><span class="params">()</span>; <span class="comment">// 返回由此抽象路径名表示的文件或目录的名称。</span></span><br><span class="line">String <span class="title function_">getParent</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名父目录的路径名字符串；如果此路径名没有指定父目录，则返回 null。</span></span><br><span class="line">File <span class="title function_">getParentFile</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名父目录的抽象路径名；如果此路径名没有指定父目录，则返回 null。</span></span><br><span class="line">String <span class="title function_">getPath</span><span class="params">()</span>; <span class="comment">// 将此抽象路径名转换为一个路径名字符串。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">getTotalSpace</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名指定的分区大小。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">getUsableSpace</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名指定的分区上可用于此虚拟机的字节数。</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span>; <span class="comment">// 计算此抽象路径名的哈希码。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isAbsolute</span><span class="params">()</span>; <span class="comment">// 测试此抽象路径名是否为绝对路径名。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isDirectory</span><span class="params">()</span>; <span class="comment">// 测试此抽象路径名表示的文件是否是一个目录。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isFile</span><span class="params">()</span>; <span class="comment">// 测试此抽象路径名表示的文件是否是一个标准文件。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isHidden</span><span class="params">()</span>; <span class="comment">// 测试此抽象路径名指定的文件是否是一个隐藏文件。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">lastModified</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名表示的文件最后一次被修改的时间。</span></span><br><span class="line"><span class="type">long</span> <span class="title function_">length</span><span class="params">()</span>; <span class="comment">// 返回由此抽象路径名表示的文件的长度。</span></span><br><span class="line">String[] list(); <span class="comment">// 返回一个字符串数组，这些字符串指定此抽象路径名表示的目录中的文件和目录。</span></span><br><span class="line">String[] list(FilenameFilter filter); <span class="comment">// 返回一个字符串数组，这些字符串指定此抽象路径名表示的目录中满足指定过滤器的文件和目录。</span></span><br><span class="line">File[] listFiles(); <span class="comment">// 返回一个抽象路径名数组，这些路径名表示此抽象路径名表示的目录中的文件。</span></span><br><span class="line">File[] listFiles(FileFilter filter); <span class="comment">// 返回抽象路径名数组，这些路径名表示此抽象路径名表示的目录中满足指定过滤器的文件和目录。</span></span><br><span class="line">File[] listFiles(FilenameFilter filter); <span class="comment">// 返回抽象路径名数组，这些路径名表示此抽象路径名表示的目录中满足指定过滤器的文件和目录。</span></span><br><span class="line"><span class="keyword">static</span> File[] listRoots(); <span class="comment">// 列出可用的文件系统根。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">mkdir</span><span class="params">()</span>; <span class="comment">// 创建此抽象路径名指定的目录。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">mkdirs</span><span class="params">()</span>; <span class="comment">// 创建此抽象路径名指定的目录，包括所有必需但不存在的父目录。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">renameTo</span><span class="params">(File dest)</span>; <span class="comment">// 重新命名此抽象路径名表示的文件。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setExecutable</span><span class="params">(<span class="type">boolean</span> executable)</span>; <span class="comment">// 设置此抽象路径名所有者执行权限的一个便捷方法。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setExecutable</span><span class="params">(<span class="type">boolean</span> executable, <span class="type">boolean</span> ownerOnly)</span>; <span class="comment">// 设置此抽象路径名的所有者或所有用户的执行权限。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setLastModified</span><span class="params">(<span class="type">long</span> time)</span>; <span class="comment">// 设置此抽象路径名指定的文件或目录的最后一次修改时间。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setReadable</span><span class="params">(<span class="type">boolean</span> readable)</span>; <span class="comment">// 设置此抽象路径名所有者读权限的一个便捷方法。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setReadable</span><span class="params">(<span class="type">boolean</span> readable, <span class="type">boolean</span> ownerOnly)</span>; <span class="comment">// 设置此抽象路径名的所有者或所有用户的读权限。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setReadOnly</span><span class="params">()</span>; <span class="comment">// 标记此抽象路径名指定的文件或目录，从而只能对其进行读操作。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setWritable</span><span class="params">(<span class="type">boolean</span> writable)</span>; <span class="comment">// 设置此抽象路径名所有者写权限的一个便捷方法。</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">setWritable</span><span class="params">(<span class="type">boolean</span> writable, <span class="type">boolean</span> ownerOnly)</span>; <span class="comment">// 设置此抽象路径名的所有者或所有用户的写权限。</span></span><br><span class="line">String <span class="title function_">toString</span><span class="params">()</span>; <span class="comment">// 返回此抽象路径名的路径名字符串。</span></span><br><span class="line">URI <span class="title function_">toURI</span><span class="params">()</span>; <span class="comment">// 构造一个表示此抽象路径名的 file: URI。</span></span><br><span class="line">URL <span class="title function_">toURL</span><span class="params">()</span>; <span class="comment">// 已过时。 此方法不会自动转义 URL 中的非法字符。建议新的代码使用以下方式将抽象路径名转换为 URL：首先通过 toURI 方法将其转换为 URI，然后通过 URI.toURL 方法将 URI 装换为 URL。</span></span><br></pre></td></tr></table></figure>
<h2 id="FileDescriptor"><a href="#FileDescriptor" class="headerlink" title="FileDescriptor"></a>FileDescriptor</h2><p>FileDescriptor 是“文件描述符”。<br>FileDescriptor 可以被用来表示开放文件、开放套接字等。<br>以FileDescriptor表示文件来说：当FileDescriptor表示某文件时，我们可以通俗的将FileDescriptor看成是该文件。但是，我们不能直接通过FileDescriptor对该文件进行操作；若需要通过FileDescriptor对该文件进行操作，则需要新创建FileDescriptor对应的FileOutputStream，再对文件进行操作。</p>
<p>FileDescriptor 类中三个类属性<code>in</code>&#x2F;<code>out</code>&#x2F;<code>err</code>，分别为标准输入&#x2F;标准输出&#x2F;标准错误，Java提供了 <code>System.in</code>&#x2F;<code>System.out</code>&#x2F;<code>System.error</code>对应这三个属性，以简化对其的使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A handle to the standard input stream. Usually, this file</span></span><br><span class="line"><span class="comment">* descriptor is not used directly, but rather via the input stream</span></span><br><span class="line"><span class="comment">* known as &#123;<span class="doctag">@code</span> System.in&#125;.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> java.lang.System#in</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">FileDescriptor</span> <span class="variable">in</span> <span class="operator">=</span> standardStream(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A handle to the standard output stream. Usually, this file</span></span><br><span class="line"><span class="comment">* descriptor is not used directly, but rather via the output stream</span></span><br><span class="line"><span class="comment">* known as &#123;<span class="doctag">@code</span> System.out&#125;.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> java.lang.System#out</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">FileDescriptor</span> <span class="variable">out</span> <span class="operator">=</span> standardStream(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* A handle to the standard error stream. Usually, this file</span></span><br><span class="line"><span class="comment">* descriptor is not used directly, but rather via the output stream</span></span><br><span class="line"><span class="comment">* known as &#123;<span class="doctag">@code</span> System.err&#125;.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> java.lang.System#err</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">FileDescriptor</span> <span class="variable">err</span> <span class="operator">=</span> standardStream(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h2 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h2><p>RandomAccessFile 是随机访问文件(包括读&#x2F;写)的类。它支持对文件随机访问的读取和写入，即我们可以从指定的位置读取&#x2F;写入文件数据。<br>需要注意的是，RandomAccessFile 虽然属于java.io包，但它不是InputStream或者OutputStream的子类；它也不同于FileInputStream和FileOutputStream。 FileInputStream 只能对文件进行读操作，而FileOutputStream 只能对文件进行写操作；但是，RandomAccessFile 同时支持文件的读和写，并且它支持随机访问。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomAccessFile</span> <span class="keyword">implements</span> <span class="title class_">DataOutput</span>, DataInput, Closeable &#123;</span><br><span class="line"></span><br><span class="line">    RandomAccessFile(File file, String mode);</span><br><span class="line">    RandomAccessFile(String fileName, String mode);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">close</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">synchronized</span> <span class="keyword">final</span> FileChannel     <span class="title function_">getChannel</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> FileDescriptor     <span class="title function_">getFD</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">long</span>     <span class="title function_">getFilePointer</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">long</span>     <span class="title function_">length</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> byteOffset, <span class="type">int</span> byteCount)</span>;</span><br><span class="line">    <span class="type">int</span>     <span class="title function_">read</span><span class="params">(<span class="type">byte</span>[] buffer)</span>;</span><br><span class="line">    <span class="type">int</span>     <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">boolean</span>     <span class="title function_">readBoolean</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">byte</span>     <span class="title function_">readByte</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">char</span>     <span class="title function_">readChar</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">double</span>     <span class="title function_">readDouble</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">float</span>     <span class="title function_">readFloat</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">readFully</span><span class="params">(<span class="type">byte</span>[] dst, <span class="type">int</span> offset, <span class="type">int</span> byteCount)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span>     <span class="title function_">readInt</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> String     <span class="title function_">readLine</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">long</span>     <span class="title function_">readLong</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">short</span>     <span class="title function_">readShort</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> String     <span class="title function_">readUTF</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span>     <span class="title function_">readUnsignedByte</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span>     <span class="title function_">readUnsignedShort</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">seek</span><span class="params">(<span class="type">long</span> offset)</span>;</span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">setLength</span><span class="params">(<span class="type">long</span> newLength)</span>;</span><br><span class="line">    <span class="type">int</span>     <span class="title function_">skipBytes</span><span class="params">(<span class="type">int</span> count)</span>;</span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">int</span> oneByte)</span>;</span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer, <span class="type">int</span> byteOffset, <span class="type">int</span> byteCount)</span>;</span><br><span class="line">    <span class="keyword">void</span>     <span class="title function_">write</span><span class="params">(<span class="type">byte</span>[] buffer)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeBoolean</span><span class="params">(<span class="type">boolean</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeByte</span><span class="params">(<span class="type">int</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeBytes</span><span class="params">(String str)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeChar</span><span class="params">(<span class="type">int</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeChars</span><span class="params">(String str)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeDouble</span><span class="params">(<span class="type">double</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeFloat</span><span class="params">(<span class="type">float</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeInt</span><span class="params">(<span class="type">int</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeLong</span><span class="params">(<span class="type">long</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeShort</span><span class="params">(<span class="type">int</span> val)</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">void</span>     <span class="title function_">writeUTF</span><span class="params">(String str)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RandomAccessFile共有4种模式：”r”, “rw”, “rws”和”rwd”。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;r&quot;    以只读方式打开。调用结果对象的任何 write 方法都将导致抛出 IOException。  </span><br><span class="line">&quot;rw&quot;   打开以便读取和写入。</span><br><span class="line">&quot;rws&quot;  打开以便读取和写入。相对于 &quot;rw&quot;，&quot;rws&quot; 还要求对“文件的内容”或“元数据”的每个更新都同步写入到基础存储设备。  </span><br><span class="line">&quot;rwd&quot;  打开以便读取和写入，相对于 &quot;rw&quot;，&quot;rwd&quot; 还要求对“文件的内容”的每个更新都同步写入到基础存储设备。  </span><br></pre></td></tr></table></figure>

<p><strong>“rw”, “rws”, “rwd” 的区别。</strong><br>  当操作的文件是存储在本地的基础存储设备上时(如硬盘, NandFlash等)，”rws” 或 “rwd”, “rw” 才有区别。<br>  当模式是 “rws” 并且 操作的是基础存储设备上的文件；那么，每次“更改文件内容[如write()写入数据]” 或 “修改文件元数据(如文件的mtime)”时，都会将这些改变同步到基础存储设备上。<br>  当模式是 “rwd” 并且 操作的是基础存储设备上的文件；那么，每次“更改文件内容[如write()写入数据]”时，都会将这些改变同步到基础存储设备上。<br>  当模式是 “rw” 并且 操作的是基础存储设备上的文件；那么，关闭文件时，会将“文件内容的修改”同步到基础存储设备上。至于，“更改文件内容”时，是否会立即同步，取决于系统底层实现。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
              <a href="/tags/IO/" rel="tag"># IO</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/03/26/%E7%BA%A2%E9%BB%91%E6%A0%91/" rel="prev" title="红黑树">
      <i class="fa fa-chevron-left"></i> 红黑树
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="nav-number">1.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStream%E5%AD%97%E8%8A%82%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">1.1.</span> <span class="nav-text">InputStream字节输入流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#InputStream"><span class="nav-number">1.1.1.</span> <span class="nav-text">InputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ByteArrayInputStream"><span class="nav-number">1.1.2.</span> <span class="nav-text">ByteArrayInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PipedInputStream"><span class="nav-number">1.1.3.</span> <span class="nav-text">PipedInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ObjectInputStream"><span class="nav-number">1.1.4.</span> <span class="nav-text">ObjectInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileInputStream"><span class="nav-number">1.1.5.</span> <span class="nav-text">FileInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FilterInputStream"><span class="nav-number">1.1.6.</span> <span class="nav-text">FilterInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BufferedInputStream"><span class="nav-number">1.1.7.</span> <span class="nav-text">BufferedInputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DataInputStream"><span class="nav-number">1.1.8.</span> <span class="nav-text">DataInputStream</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStream%E5%AD%97%E8%8A%82%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">1.2.</span> <span class="nav-text">OutputStream字节输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#OutputStream"><span class="nav-number">1.2.1.</span> <span class="nav-text">OutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ByteArrayOutputStream"><span class="nav-number">1.2.2.</span> <span class="nav-text">ByteArrayOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PipedOutputStream"><span class="nav-number">1.2.3.</span> <span class="nav-text">PipedOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ObjectOutputStream"><span class="nav-number">1.2.4.</span> <span class="nav-text">ObjectOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileOutputStream"><span class="nav-number">1.2.5.</span> <span class="nav-text">FileOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FilterOutputStream"><span class="nav-number">1.2.6.</span> <span class="nav-text">FilterOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BufferedOutputStream"><span class="nav-number">1.2.7.</span> <span class="nav-text">BufferedOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DataOutputStream"><span class="nav-number">1.2.8.</span> <span class="nav-text">DataOutputStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PrintStream"><span class="nav-number">1.2.9.</span> <span class="nav-text">PrintStream</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#System-out-Println"><span class="nav-number">1.2.10.</span> <span class="nav-text">System.out.Println</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">2.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E6%B5%81"><span class="nav-number">2.1.</span> <span class="nav-text">Reader字符输入流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reader"><span class="nav-number">2.1.1.</span> <span class="nav-text">Reader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CharArrayReader"><span class="nav-number">2.1.2.</span> <span class="nav-text">CharArrayReader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PipedReader"><span class="nav-number">2.1.3.</span> <span class="nav-text">PipedReader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InpustreamReader"><span class="nav-number">2.1.4.</span> <span class="nav-text">InpustreamReader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileReader"><span class="nav-number">2.1.5.</span> <span class="nav-text">FileReader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BufferedReader"><span class="nav-number">2.1.6.</span> <span class="nav-text">BufferedReader</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Writer%E5%AD%97%E7%AC%A6%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">2.2.</span> <span class="nav-text">Writer字符输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Writer"><span class="nav-number">2.2.1.</span> <span class="nav-text">Writer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CharArrayWriter"><span class="nav-number">2.2.2.</span> <span class="nav-text">CharArrayWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PipedWrite"><span class="nav-number">2.2.3.</span> <span class="nav-text">PipedWrite</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OutputStreamWriter"><span class="nav-number">2.2.4.</span> <span class="nav-text">OutputStreamWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileWriter"><span class="nav-number">2.2.5.</span> <span class="nav-text">FileWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BufferedWriter"><span class="nav-number">2.2.6.</span> <span class="nav-text">BufferedWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PrintWriter"><span class="nav-number">2.2.7.</span> <span class="nav-text">PrintWriter</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File"><span class="nav-number">3.</span> <span class="nav-text">File</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#File-1"><span class="nav-number">3.1.</span> <span class="nav-text">File</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FileDescriptor"><span class="nav-number">3.2.</span> <span class="nav-text">FileDescriptor</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RandomAccessFile"><span class="nav-number">3.3.</span> <span class="nav-text">RandomAccessFile</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jerry Lee</p>
  <div class="site-description" itemprop="description">Java coder</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/sortbylist" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;sortbylist" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jerry Lee</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
